#:import utils kivy.utils

GridLayout:
    cols:2
    rows:1
    size: root.size
    pos: root.pos
    # Left Column
    BoxLayout:
        orientation: 'vertical'
        size_hint: 0.2, 1
        padding: 10
        spacing: 10
        Button:
            text: "Start"
            id: start_stop_button
            pos_hint:{"top":0.5}
            on_press: app.start_stop_execution()
        Button:
            text: "Draw Shape"
            on_press: app.show_draw_popup()
        Button:
            text: "Initialize GUI"
            on_press: app.show_initialize_popup()
        Button:
            text: "Exit"
            on_press: app.stop()
    # Right Column
    RobotCanvas:
        size_hint: 1, 1
        orientation: 'vertical'
        BoxLayout:
            id: robots
            robot_pos1: 133, 0
            robot_pos2: 133, 0
            canvas.before:
                Color
                    rgb: utils.get_color_from_hex('#D3D3D3')
                Rectangle:
                    size: self.size
                    pos: self.pos
            canvas:
                Color:
                    rgb: 0, 0, 1
                Ellipse:
                    size: 30, 30
                    pos: self.robot_pos1[0], self.robot_pos1[1]
                Color: 
                    rgb: 1, 0, 0
                Ellipse:
                    size: 30, 30
                    pos: self.robot_pos2[0], self.robot_pos2[1]
<DrawPopup>:
    id: draw
    cols:1
    rows:2
    BoxLayout:
        Button:
            text: "Custom"
            id: custom
            size_hint: 1, 0.2
            on_press: root.set_custom()
            pos_hint: {"top":1}
        Button:
            text: "Triangle"
            id: triangle
            size_hint: 1, 0.2
            on_press: root.draw_premade_shape("triangle")
            pos_hint: {"top":1}
        Button:
            text: "Square"
            id: square
            on_press: root.draw_premade_shape("square")
            size_hint: 1, 0.2
            pos_hint: {"top":1}
        Button:
            text: "Clear"
            id: clear
            disabled: True
            on_press: root.clear_canvas()
            size_hint: 1, 0.2
            pos_hint: {"top":1}
        Button:
            text: "Cancel"
            id: exit
            disabled: False
            on_press: root.cancel_drawing()
            size_hint: 1, 0.2
            pos_hint: {"top":1}
        Button:
            text: "Export Shape"
            id: export
            disabled: True
            on_press: root.export_shape()
            size_hint: 1, 0.2
            pos_hint: {"top":1}
    ShapeCanvas:

<InitializePopup>:
    rows: 2
    cols: 1
    id: initialize
    BoxLayout:
        size_hint: 1, 1
        Button:
            text: "Set Dimensions"
            on_press: root.set_new_dimensions()
            pos_hint: {"top":1}
        Button:
            text: "Cancel"
            on_press: app.close_initialize_popup()
            pos_hint: {"top":1}
    BoxLayout:
        orientation: 'vertical'
        TextInput:
            id: x_input
            multiline: False
            pos_hint: {"left":1}
            hint_text: "X (meters)"
        TextInput:
            id: y_input
            multiline: False
            pos_hint: {"left":1}
            hint_text: "Y (meters)"

